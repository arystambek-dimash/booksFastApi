{% extends 'base.html' %}
{% block title %}Flowers{% endblock %}

{% block content %}
<table class="table table-striped table-hover">
    <tr>
        <th>Name</th>
        <th>Cost</th>
        <th>Count</th>
    </tr>
    {% for book in books %}
    <tr>
        <td><a href="/books/{{ book.id }}" style="text-decoration: none;color: black">{{ book.title }}</a>
        </td>
        <td>{{ book.author }}</td>
        <td>{{ book.year }}</td>
        <td>{{ book.total_pages }}</td>
        <td>{{ book.genre }}</td>
    </tr>
    {% endfor %}
    <nav aria-label="Page navigation example">
        <ul class="pagination">
            {% if cur_page> 1 %}
            <li class="page-item">
                <a class="page-link" aria-label="Previous" href="?page={{ cur_page - 1 }}">
                    <span aria-hidden="true">&laquo;</span>
                </a>
            </li>
            {% else %}
            {% endif %}
            {% for page in total %}
            <li class="page-item"><a class="page-link" href="?page={{ page }}">{{ page }}</a></li>
            {% endfor %}
            {% if cur_page < len_pages %}
            <li class="page-item">
                <a class="page-link" aria-label="Next"
                   href="?page={{ cur_page + 1 }}">
                    <span aria-hidden="true">&raquo;</span>
                </a>
            </li>
            {% else %}
            {% endif %}
        </ul>
    </nav>
    {% else %}
    <tr>
        <td>{{ book.title }}</td>
        <td>{{ book.author }}</td>
        <td>{{ book.year }}</td>
        <td>{{ book.total_pages }}</td>
        <td>{{ book.genre }}</td>
    </tr>
    <ul class="pagination" style="justify-content: center">
        {% if book_id > 1 %}
        <li class="page-item">
            <a class="page-link" aria-label="Previous" href="/books/{{book_id - 1}}">
                <span aria-hidden="true">Previus</span>
            </a>
        </li>
        {% endif %}
        {% if book_id < len %}
        <li class="page-item">
            <a class="page-link" aria-label="Next" href="/books/{{book_id + 1}}">
                <span aria-hidden="true">Next</span>
            </a>
        </li>
        {% endif %}
    </ul>
    <div style="display:flex;justify-content: left; padding-bottom: 10px">
        <form action="/books/{{book_id}}/delete/" method="post">
            <div class="mb-3">
                <input type="submit" name="delete" class="form-control btn btn-danger" value="Delete">
            </div>
        </form>
        <div style="padding-left: 50px">
            <a href="/books/{{book_id}}/edit" class="btn btn-primary">Edit</a>
        </div>
    </div>
    {% endif %}
</table>
{% endblock %}